{
    # Global options block
    admin localhost:2019
    email eddykill@gmail.com
}

# Redirect all HTTP traffic to HTTPS
http:// {
    redir https://{host}{uri}
}

# HTTPS server block for the Symfony project
https:// {
    # Root directory for your Symfony project
    root * /var/www/symfony/public
    encode gzip

    # Use internal TLS
    tls internal

    # PHP FastCGI configuration
    php_fastcgi symfony_app:9000

    # Rewrite to Symfony's front controller if no other file matches
    @rewrite {
        file {
            try_files {path} /index.php
        }
    }
    rewrite * @rewrite

    # Enable static file serving
    file_server

    # Logging configuration
    log {
        output stdout
        format json
    }
}
